# 🔢🎮 猜数字游戏

## 🎯 项目背景介绍
“猜数字”是一个经典的小游戏，在生活中我们经常会和朋友玩：“我心里想了一个数字，你来猜猜看！” 💡 现在，我们要用编程的方式来实现这个有趣的游戏。通过这个项目，你可以将所学的 JavaScript 基础知识运用起来，包括随机数生成、循环判断、数组记录、函数封装和对象使用等。在挑战谜底数字的过程中，不仅能巩固你的编程技能，还能体会调试程序🔧和逐步完善功能的乐趣。这个项目难度适中，非常适合初学者练手，有助于提高编程自信心和兴趣✨。

## 🚀 功能目标描述
在这个控制台小游戏中，玩家将与计算机进行数字猜谜比拼。我们需要实现以下功能目标：

- 🎲 **随机选取谜底数字：** 游戏开始时程序会随机生成一个预设范围内的整数作为谜底（例如 1 到 100）。  
- 📥 **接受玩家猜测输入：** 每一轮允许玩家通过控制台输入一个猜测数字。程序需要读取该输入（可以使用 `prompt()` 函数提示玩家输入）。  
- 📈📉 **反馈高低提示：** 针对玩家的每次猜测，程序给予反馈——如果猜测不正确，提示猜大了还是猜小了，从而引导玩家逐步逼近正确答案。  
- 📜 **记录猜测历史：** 使用数组保存玩家已经猜过的数字，并在每轮适当显示已猜过的内容，帮助玩家避免重复猜同样的数字。  
- ⏳ **限制猜测次数：** 设定一个最大轮数（例如最多猜 10 次）。每进行一轮猜测将消耗一次机会，并更新剩余轮数。玩家需要在限定次数内猜中数字才能获胜。  
- 🏆 **胜负判断：** 如果玩家在规定轮数内猜中谜底数字，输出祝贺信息🎉，宣布玩家胜利，并告知共用了多少次猜测。若玩家用完所有机会仍未猜中，则输出游戏失败的信息😢，并揭晓正确的谜底数字。  
- 🔄 **支持重新开始：** 当一局游戏结束后，提供选项让玩家决定是否重新开始游戏（例如询问玩家是否再次挑战）。如果玩家选择继续，则重置游戏状态（生成新的随机数，重置猜测次数和历史记录等）进入下一局。  

通过以上功能，确保玩家能够在浏览器开发者工具的控制台中进行完整的猜数字游戏体验🕹️。

## 🛠️ 明确的任务分解
为顺利开发这个小游戏，我们可以将需求拆解为以下几个步骤，每个步骤逐一完成并进行测试：

1. 🎮 **初始化游戏数据：** 使用 `Math.random()` 和相关方法生成一个预定范围内的随机整数作为谜底数字，并准备好所需的变量。例如，设置猜测次数计数器（从1开始）、最大允许次数，以及一个空数组用于保存玩家的猜测历史。也可以将这些数据封装在一个对象中便于管理（如 `gameState` 对象包含 `secretNumber`、`attemptCount`、`maxAttempts`、`guesses[]` 等属性）。  

2. ⌨️ **获取玩家输入：** 提示玩家输入一个猜测数字。可以使用 `prompt()` 弹出输入框让玩家输入，并用 `Number()` 或 `parseInt()` 将得到的字符串转换为数字类型。如果玩家输入的不是有效的数字，给予友好的提示⚠️并让其重新输入（确保基本的输入有效性）。  

3. 💾 **保存猜测并提供反馈：** 将玩家本轮猜测的数字存入猜测历史数组中。然后，通过比较玩家的输入和谜底数字，输出相应反馈：如果猜测太高，提示「📈 数字太大了，再试一次」；如果猜测太低，提示「📉 数字太小了，再试一次」。同时可以在控制台输出玩家当前已猜过的数字列表，方便玩家参考。  

4. ✅ **检查胜负条件：** 每次猜测后都要检查游戏是否结束：  
   - 🎉 如果玩家猜中了谜底数字，输出恭喜信息，例如「恭喜你，猜对了！你总共猜了 X 次。」 然后宣布游戏结束。  
   - 🔄 如果玩家猜错了且还有剩余机会，则增加猜测轮次数（例如 `attemptCount++`），并允许进入下一轮猜测（回到步骤2继续询问输入）。  
   - 😢 如果玩家猜错且已经用完所有尝试次数，则输出「很遗憾，游戏结束！正确答案是 Y。」等信息，提醒游戏结束。  

5. 🔄 **结束和重新开始：** 在游戏结束时，无论胜利还是失败，都提示玩家是否要再来一局新的游戏。可以使用 `confirm()` 来询问玩家选择。如果玩家选择是，则重置游戏状态：清空猜测历史数组，猜测计数重置为初始值，重新生成新的随机谜底数字，并开始新一轮游戏（跳回第1步的逻辑）。如果玩家选择不再玩，则感谢玩家参与🙏并终止程序运行。  

6. 🐞 **循环验证与调试：** 在开发过程中，逐步运行并测试每个阶段的功能是否正确。例如先测试随机数生成和输入读取，再逐步加入判断逻辑。确保在各种情况下（猜对/猜错，达到次数上限等）程序都按预期执行。调试过程中可以使用 `console.log` 输出关键变量的值，帮助观察程序行为，修正潜在的问题🔧。  

按照以上步骤分解任务，一步步完成代码编写，你将最终得到一个可以在控制台运行的完整猜数字游戏程序🎯。

## 📨 提交要求
请根据项目开发情况提交以下内容：

- 📁 **源码文件：** 提交完整的 JavaScript 源码文件（例如`game.js`），其中包含实现游戏功能的代码。代码应包含适当的注释，以解释关键逻辑和代码作用，方便评阅和自己日后查看。  
- 📝 **使用说明：** 简要说明如何运行你的小游戏。例如，可以在说明中写明「如何在浏览器中打开控制台并运行脚本开始游戏」的步骤，或者提供一个包含 `<script>` 标签引用该 JS 文件的简单 HTML，方便老师直接在浏览器中打开运行。  
- 📸 **演示截图/视频（可选）：** 为了展示你的程序运行效果，你可以附加一两张游戏运行过程的截图（例如猜对数字时的控制台输出)，或者录制一个简短的视频演示你与程序交互猜数字的过程。这有助于评审快速了解你的项目完成情况。  
- 📚 **其他文档（可选）：** 如果你对项目有任何额外的说明（例如你实现了哪些进阶功能、遇到的问题及解决方法等），可以通过一个README文档说明。这不是必须的，但有助于表达你的思路和总结项目经验。

请确保提交的内容能够顺利运行和打开。如果有特殊运行要求，请在说明中明确指出。

## 📊 建议的评估标准
项目完成后，将从以下几个方面对你的小游戏进行评估：

- ✔️ **功能完整性：** 是否实现了所有基本功能需求。游戏是否按照要求完成了随机数生成、次数限制、提示反馈、胜负判断以及重开机制。玩家的交互流程是否顺畅，能否正常地玩完整个游戏。  
- 🧠 **代码正确性：** 程序能否在不同情况下得到正确结果。例如：猜大猜小的判断是否准确；在边界情况下（第一次就猜中或最后一次才猜中）是否表现正常；输入异常值时是否有合理处理等。  
- 🧩 **代码组织与封装：** 代码结构是否清晰，逻辑是否通过函数进行封装以提高复用性和可读性。避免将所有逻辑写在一个长函数或全局作用域下，是否合理地将重复出现的功能提取成函数。  
- 🗃️ **对象和数组的应用：** 是否有效地使用了数组和对象来管理数据。例如，使用数组保存了历史猜测记录，并通过遍历或数组方法来使用这些数据；使用对象来表示游戏状态或其他需组合管理的属性，从而体现对对象建模的理解。  
- ✨ **代码风格与可读性：** 变量命名是否清晰有意义，代码缩进、括号匹配等格式是否规范，是否添加了必要的注释帮助解释思路。良好的代码风格不仅体现编程习惯，也有助于他人理解你的代码。  
- 💡 **扩展思考：** （加分项）是否尝试实现了额外的进阶功能或优化。在确保基本功能可靠的前提下，适当的扩展将展示你更深入的思考和对编程的兴趣。但请注意，进阶功能是锦上添花，基本要求的完善才是主要评估内容。

## 🌟 鼓励进阶功能
在完成基本功能之余，你可以挑战一些进阶功能，为游戏增添亮点：

- ⚙️ **难度级别设置：** 增加游戏的难度选择，例如由玩家在开始时选择范围大小或猜测次数上限。比如「简单」模式范围1-50有较少机会，「困难」模式范围1-200但允许更多次尝试。不同难度下游戏参数不同，丰富游戏的可玩性。  
- 🌡️ **猜测结果提示优化：** 除了简单地提示「大了」或「小了」，你可以根据猜测的接近程度给出更丰富的提示信息。例如：距离正确答案差距很大时提示「差得远呢🌪️」，差距很小时提示「很接近了！🔥」。这需要结合数学运算判断差值区间，提高游戏的互动性。  
- ⏱️ **时间统计功能：** 利用 Date 对象记录玩家开始猜测的时间点，在猜中或游戏结束时计算耗时并显示。例如：「你用时30秒猜出了正确答案⏰」。这可以让玩家了解自己的完成速度，引入另一种挑战（用更短时间猜中）。  
- 🏅 **成绩记录与排行：** 扩展游戏使其可以记录玩家的历史最佳成绩，例如最少猜几次就猜对或者累计赢了多少局。由于仅在控制台运行，记录可以暂存于变量或浏览器本地存储（localStorage）中。下次玩游戏时可以读取记录，激励玩家打破自己的纪录📈。  
- 🛡️ **输入健壮性处理：** 提升程序对异常输入的处理能力。比如当玩家输入非数字字符、空值或超出范围的数字时，程序不会直接报错或无反应，而是提示「输入有误⚠️，请输入一个有效的数字」。良好的健壮性使程序更完善。  
- 🤖 **扩展游戏模式：** 如果对算法有兴趣，可以尝试添加一个全新模式：**反向猜数字**。即由玩家心里想一个数字，让计算机通过算法来猜测玩家的数字。你需要编写程序让电脑在每轮根据反馈（高了/低了）调整猜测策略（这实际上是在练习二分查找算法的应用）。这种模式难度较高，但非常有趣，属于额外的挑战💡。  

鼓励有余力的同学发挥创造力，对游戏进行个性化的改进。但请记住，保证基本功能可靠是第一位的，在此基础上再逐步拓展。无论你增加哪些新特性，都建议遵循「小步迭代、不断测试」的原则，确保每次改动都能稳定运行。通过尝试进阶功能，你将进一步加深对 JavaScript 编程的理解，并为项目增色✨。祝你在实践中学有所乐，学有所成！🚀